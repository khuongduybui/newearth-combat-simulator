{"version":3,"sources":["../src/app.js","../src/app.scss","../src/app.css","../src/app.html","../src/elements/aurelia-console.js","../src/elements/aurelia-console.scss","../src/elements/aurelia-console.css","../src/elements/aurelia-console.html","../src/environment.js","../src/main.js","../src/resources/index.js"],"names":["App","battleLogs","buffs","attack","defense","health","attackItem","defenseItem","combatShip","hero","name","qty","tier","attackBuff","defenseBuff","healthBuff","healthItem","item","ship","aat1","aat2","aat3","aat4","aat5","dat3","dat4","sat2","sat3","sat4","troop1","buff","troop2","troop3","troop4","troop5","tierRatios","Math","pow","clearLogs","formatLog","data","map","part","format","JSON","stringify","join","logAttack","push","left","message","logDefend","right","header","center","Array","length","fill","defenders","heroVsAa","aa","troopsVsAa","allVsAa","saveData","localStorage","setItem","loadData","saved","getItem","parse","attackers","status","remainings","aaRound","statusWithLoss","every","attacker","withHero","isHero","firepower","defender","tierRatio","damage","defendBuff","hitpoints","originalHitpoints","originalQty","hit","ceil","round","_status","loss","forEach","side","filter","some","entity","powerLoss","power","number","AureliaConsoleCustomElement","bindable","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","environment","plugin","start","then","setRoot","config"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import numeral from 'numeral';\n\nexport class App {\n  battleLogs = [];\n\n  buffs = {\n    attack: 0.22,\n    defense: 1.5133,\n    health: 0.52,\n    attackItem: 0.25,\n    defenseItem: 0.25,\n    combatShip: 0.2,\n  };\n  hero = {\n    name: 'hero',\n    qty: 1,\n    tier: 0,\n    attack: 30500,\n    defense: 120,\n    health: 287,\n    attackBuff: 0.03,\n    defenseBuff: 1.2,\n    healthBuff: 0.5,\n    attackItem: 0.15,\n    defenseItem: 0.05,\n    healthItem: 0.05,\n    item: true,\n    ship: true,\n  };\n  aat1 = {\n    name: 'Greys',\n    qty: 0,\n    tier: 1,\n    attack: 0,\n    defense: 1,\n    health: 1,\n  };\n  aat2 = {\n    name: 'Bashers',\n    qty: 0,\n    tier: 2,\n    attack: 1,\n    defense: 2,\n    health: 2,\n  };\n  aat3 = {\n    name: 'UFOs',\n    qty: 0,\n    tier: 3,\n    attack: 2,\n    defense: 3,\n    health: 3,\n  };\n  aat4 = {\n    name: 'Destroyers',\n    qty: 0,\n    tier: 4,\n    attack: 3,\n    defense: 4,\n    health: 4,\n  };\n  aat5 = {\n    name: 'Masterminds',\n    qty: 0,\n    tier: 5,\n    attack: 4,\n    defense: 5,\n    health: 5,\n  };\n  dat3 = {\n    name: 'Veteran Black Ops',\n    qty: 0,\n    tier: 3,\n    attack: 3,\n    defense: 3,\n    health: 1,\n  };\n  dat4 = {\n    name: 'Elite Black Ops',\n    qty: 0,\n    tier: 4,\n    attack: 4,\n    defense: 4,\n    health: 2,\n  };\n  sat2 = {\n    name: 'Superior Scavengers',\n    qty: 0,\n    tier: 2,\n    attack: 2,\n    defense: 2,\n    health: 2,\n  };\n  sat3 = {\n    name: 'Veteran Scavengers',\n    qty: 0,\n    tier: 3,\n    attack: 3,\n    defense: 3,\n    health: 2,\n  };\n  sat4 = {\n    name: 'Elite Scavengers',\n    qty: 0,\n    tier: 4,\n    attack: 4,\n    defense: 4,\n    health: 3,\n  };\n  troop1 = {\n    name: 'Scout Helicopters',\n    qty: 0,\n    tier: 1,\n    attack: 1,\n    defense: 1,\n    health: 1,\n    buff: true,\n    item: true,\n    ship: true,\n  };\n  troop2 = {\n    name: 'Attacker Helicopters',\n    qty: 0,\n    tier: 2,\n    attack: 2,\n    defense: 2,\n    health: 2,\n    buff: true,\n    item: true,\n    ship: true,\n  };\n  troop3 = {\n    name: 'Jet Fighters',\n    qty: 800,\n    tier: 3,\n    attack: 3,\n    defense: 3,\n    health: 3,\n    buff: true,\n    item: true,\n    ship: true,\n  };\n  troop4 = {\n    name: 'Advanced Interceptors',\n    qty: 92000,\n    tier: 4,\n    attack: 4,\n    defense: 4,\n    health: 4,\n    buff: false, // use alien disc instead\n    item: true,\n    ship: true,\n  };\n  troop5 = {\n    name: 'Solarwind Fighters',\n    qty: 0,\n    tier: 5,\n    attack: 5,\n    defense: 5,\n    health: 5,\n    buff: true,\n    item: true,\n    ship: true,\n  };\n  tierRatios = [\n    // how to use: tierRatios[attackerTier][defenderTier]\n    [1, 1, 1, 1, 1, 1], // hero deals/receives the same damage to/from everyone\n    [1, 1, 0.75, Math.pow(0.75, 2), Math.pow(0.75, 3), Math.pow(0.75, 4)],\n    [1, 1.5, 1, 0.75, Math.pow(0.75, 2), Math.pow(0.75, 3)],\n    [1, 3, 1.5, 1, 0.75, Math.pow(0.75, 2)],\n    [1, 4.5, 3, 1.5, 1, 0.75],\n    [1, 6, 4.5, 3, 1.5, 1],\n  ];\n\n  clearLogs() {\n    this.battleLogs = [];\n  }\n  formatLog(...data) {\n    return data.map((part) => (typeof part === 'number' ? numeral(part).format('0,0[.]00') : typeof part === 'string' ? part : JSON.stringify(part))).join(' ');\n  }\n  logAttack(...data) {\n    this.battleLogs.push({ left: true, message: this.formatLog(...data) });\n  }\n  logDefend(...data) {\n    this.battleLogs.push({ right: true, message: this.formatLog(...data) });\n  }\n  header(...data) {\n    const message = this.formatLog(...data);\n    this.battleLogs.push({ center: true, message: new Array(message.length).fill('-').join('') });\n    this.battleLogs.push({ center: true, message });\n    this.battleLogs.push({ center: true, message: new Array(message.length).fill('-').join('') });\n  }\n\n  defenders() {\n    return [\n      { ...this.aat1 },\n      { ...this.aat2 },\n      { ...this.aat3 },\n      { ...this.aat4 },\n      { ...this.aat5 },\n      { ...this.sat2 },\n      { ...this.sat3 },\n      { ...this.sat4 },\n      { ...this.dat3 },\n      { ...this.dat4 },\n    ];\n  }\n\n  heroVsAa() {\n    this.aa([{ ...this.hero }], this.defenders());\n  }\n\n  troopsVsAa() {\n    this.aa([{ ...this.troop1 }, { ...this.troop2 }, { ...this.troop3 }, { ...this.troop4 }, { ...this.troop5 }], this.defenders());\n  }\n\n  allVsAa() {\n    this.aa([{ ...this.troop1 }, { ...this.troop2 }, { ...this.troop3 }, { ...this.troop4 }, { ...this.troop5 }, { ...this.hero }], this.defenders());\n  }\n\n  saveData() {\n    const data = {\n      buffs: this.buffs,\n      hero: this.hero,\n      aat1: this.aat1,\n      aat2: this.aat2,\n      aat3: this.aat3,\n      aat4: this.aat4,\n      aat5: this.aat5,\n      dat3: this.dat3,\n      dat4: this.dat4,\n      sat2: this.sat2,\n      sat3: this.sat3,\n      sat4: this.sat4,\n      troop1: this.troop1,\n      troop2: this.troop2,\n      troop3: this.troop3,\n      troop4: this.troop4,\n      troop5: this.troop5,\n    };\n    localStorage.setItem('data', JSON.stringify(data));\n  }\n\n  loadData() {\n    const saved = localStorage.getItem('data');\n    if (saved) {\n      const data = JSON.parse(saved);\n\n      this.buffs = data.buffs;\n      this.hero = data.hero;\n      this.aat1.qty = data.aat1.qty;\n      this.aat2.qty = data.aat2.qty;\n      this.aat3.qty = data.aat3.qty;\n      this.aat4.qty = data.aat4.qty;\n      this.aat5.qty = data.aat5.qty;\n      this.dat3.qty = data.dat3.qty;\n      this.dat4.qty = data.dat4.qty;\n      this.sat2.qty = data.sat2.qty;\n      this.sat3.qty = data.sat3.qty;\n      this.sat4.qty = data.sat4.qty;\n      this.troop1.qty = data.troop1.qty;\n      this.troop2.qty = data.troop2.qty;\n      this.troop3.qty = data.troop3.qty;\n      this.troop4.qty = data.troop4.qty;\n      this.troop5.qty = data.troop5.qty;\n    }\n  }\n\n  aa(attackers, defenders) {\n    this.saveData();\n    this.clearLogs();\n\n    this.status(this.remainings(attackers), this.remainings(defenders), 'Battle Start');\n\n    this.aaRound(this.remainings(attackers), this.remainings(defenders), 1);\n    this.aaRound(this.remainings(attackers), this.remainings(defenders), 2);\n    this.aaRound(this.remainings(attackers), this.remainings(defenders), 3);\n\n    this.statusWithLoss(this.remainings(attackers), this.remainings(defenders), 'Battle End');\n  }\n\n  attack(attackers, defenders) {\n    // return false to exit loops\n    this.remainings(attackers).every((attacker) => {\n      let attackBuff = 0;\n      if (attacker.buff) {\n        attackBuff = attackBuff + +this.buffs.attack;\n        if (this.withHero(attackers)) {\n          attackBuff = attackBuff + +this.hero.attackBuff;\n        }\n      }\n      if (attacker.item) {\n        attackBuff = attackBuff + +this.buffs.attackItem;\n        if (this.withHero(attackers) && !this.isHero(attacker)) {\n          attackBuff = attackBuff + +this.hero.attackItem;\n        }\n      }\n      if (attacker.ship) {\n        attackBuff = attackBuff + +this.buffs.combatShip;\n      }\n\n      attacker.firepower = attacker.qty * attacker.attack * (1 + attackBuff) * 0.2;\n      this.logAttack(attacker.name, '🔥', attacker.firepower, ...(attackBuff > 0 ? ['including attack buff', attackBuff * 100, '%'] : []));\n\n      this.remainings(defenders).every((defender) => {\n        const tierRatio = this.tierRatios[attacker.tier][defender.tier];\n        const damage = attacker.firepower * tierRatio;\n        let defendBuff = 0,\n          healthBuff = 0;\n        if (defender.buff) {\n          defendBuff = defendBuff + +this.buffs.defense;\n          healthBuff = healthBuff + +this.buffs.health;\n          if (this.withHero(defenders)) {\n            defendBuff = defendBuff + +this.hero.defenseBuff;\n            healthBuff = healthBuff + +this.hero.healthBuff;\n          }\n        }\n        if (defender.item) {\n          defendBuff = defendBuff + +this.buffs.defenseItem;\n          if (this.withHero(defenders) && !this.isHero(defender)) {\n            defendBuff = defendBuff + +this.hero.defenseItem;\n            healthBuff = healthBuff + +this.hero.healthItem;\n          }\n        }\n        if (defender.ship) {\n          defendBuff = defendBuff + +this.buffs.combatShip;\n          healthBuff = healthBuff + +this.buffs.combatShip;\n        }\n        if (!defender.hitpoints) {\n          defender.hitpoints = defender.qty * defender.health * defender.defense * (1 + defendBuff) * (1 + healthBuff);\n          defender.originalHitpoints = defender.hitpoints;\n          defender.originalQty = defender.qty;\n        }\n        this.logDefend(\n          defender.name,\n          '👨‍👦‍👦',\n          defender.qty,\n          '❤',\n          defender.hitpoints,\n          'damage',\n          tierRatio >= 1 ? 'amplified by' : 'reduced by',\n          tierRatio,\n          ...(defendBuff > 0 ? ['including defend buff', defendBuff * 100, '%'] : []),\n          ...(healthBuff > 0 ? ['including health buff', healthBuff * 100, '%'] : []),\n        );\n\n        if (defender.hitpoints > damage) {\n          attacker.firepower = 0;\n          defender.hit = damage;\n          defender.hitpoints = defender.hitpoints - defender.hit;\n          defender.qty = Math.ceil(defender.hitpoints / defender.defense / defender.health / (1 + defendBuff) / (1 + healthBuff));\n        } else {\n          defender.hit = defender.hitpoints;\n          defender.hitpoints = 0;\n          defender.qty = 0;\n          attacker.firepower = (damage - defender.hit) / tierRatio;\n        }\n        this.logDefend(defender.name, 'took 🎯', defender.hit, ', remaining 👨‍👦‍👦', defender.qty, '❤', defender.hitpoints);\n        this.logAttack(attacker.name, 'remaining 🔥', attacker.firepower);\n\n        // does this attacker has firepower left?\n        return attacker.firepower > 0;\n      });\n\n      // are there any defenders left?\n      return this.remainings(defenders).length > 0;\n    });\n  }\n\n  round(attackers, defenders, ...message) {\n    if (this.remainings(attackers).length > 0 && this.remainings(defenders).length > 0) {\n      this.header(...message, 'Attacker Phase');\n      this.attack(attackers, defenders);\n    }\n    if (this.remainings(attackers).length > 0 && this.remainings(defenders).length > 0) {\n      this.header(...message, 'defender Phase');\n      this.attack(defenders, attackers);\n    }\n  }\n\n  status(attackers, defenders, ...message) {\n    return this._status(attackers, defenders, false, ...message);\n  }\n\n  statusWithLoss(attackers, defenders, ...message) {\n    return this._status(attackers, defenders, true, ...message);\n  }\n\n  _status(attackers, defenders, loss, ...message) {\n    this.header(...message);\n    attackers.forEach((attacker) => {\n      this.logAttack(attacker.name, '👨‍👦‍👦', attacker.qty, ...(loss ? this.loss(attacker) : []));\n    });\n    defenders.forEach((defender) => {\n      this.logDefend(defender.name, '👨‍👦‍👦', defender.qty, ...(loss ? this.loss(defender) : []));\n    });\n  }\n\n  remainings(side) {\n    return side.filter(({ qty }) => qty > 0);\n  }\n\n  withHero(side) {\n    return side.some(this.isHero);\n  }\n\n  isHero(entity) {\n    return entity.name === 'hero';\n  }\n\n  loss(entity) {\n    if (this.isHero(entity)) {\n      if (entity.hitpoints && entity.originalHitpoints) {\n        return ['❤', (entity.hitpoints / entity.originalHitpoints) * 100, '%'];\n      }\n    } else {\n      if (entity.originalQty) {\n        return ['🔻', entity.originalQty - entity.qty, '⚡', this.powerLoss(entity)];\n      }\n    }\n  }\n\n  powerLoss(entity) {\n    let power = 0;\n    switch (entity.tier) {\n      case 1:\n        power = 2;\n        break;\n      case 2:\n        power = 8;\n        break;\n      case 3:\n        power = 20;\n        break;\n      case 4:\n        power = 36;\n        break;\n      case 5:\n        power = 75;\n        break;\n    }\n    return power * (entity.originalQty - entity.qty);\n  }\n\n  aaRound(attackers, defenders, number) {\n    if (attackers.length > 0 && defenders.length > 0) {\n      this.status(attackers, defenders, 'Round', number, 'Start');\n      this.round(attackers, defenders, 'Round', number);\n    }\n  }\n}\n","body {\n  max-width: initial;\n}\n","body {\n  max-width: initial;\n}","<template>\n  <require from=\"elements/aurelia-console\"></require>\n  <require from=\"./app.css\"></require>\n\n  <h1>Player vs Aliens</h1>\n\n  <h2>Configure</h2>\n  <button type=\"button\" click.delegate=\"loadData()\">Load Saved Data</button>\n\n  <h3>Base</h3>\n  <table>\n    <tr>\n      <td>\n        <label>\n          Air Vehicle Attack\n          <input type=\"number\" value.two-way=\"buffs.attack\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Air Vehicle Defense\n          <input type=\"number\" value.two-way=\"buffs.defense\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Air Vehicle Health\n          <input type=\"number\" value.two-way=\"buffs.health\" />\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <table>\n    <h3>Extras</h3>\n    <tr>\n      <td>\n        <label>\n          Attack Buff (Item)\n          <input type=\"number\" value.two-way=\"buffs.attackItem\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Defense Buff (Item)\n          <input type=\"number\" value.two-way=\"buffs.defenseItem\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Combat Ship\n          <input type=\"number\" value.two-way=\"buffs.combatShip\" />\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <h3>Hero</h3>\n  <table>\n    <tr>\n      <td>\n        <label>\n          Attack\n          <input type=\"number\" value.two-way=\"hero.attack\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Defense\n          <input type=\"number\" value.two-way=\"hero.defense\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Health\n          <input type=\"number\" value.two-way=\"hero.health\" />\n        </label>\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <label>\n          Air Vehicle Attack\n          <input type=\"number\" value.two-way=\"hero.attackBuff\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Air Vehicle Defense\n          <input type=\"number\" value.two-way=\"hero.defenseBuff\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Air Vehicle Health\n          <input type=\"number\" value.two-way=\"hero.healthBuff\" />\n        </label>\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <label>\n          Deployment Attack\n          <input type=\"number\" value.two-way=\"hero.attackItem\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Deployment Defense\n          <input type=\"number\" value.two-way=\"hero.defenseItem\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Deployment Health\n          <input type=\"number\" value.two-way=\"hero.healthItem\" />\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <h3>Troops</h3>\n  <table>\n    <tr>\n      <td>\n        <label>\n          Scout Helicopters\n          <input type=\"number\" value.two-way=\"troop1.qty\" />\n        </label>\n        <label>\n          <input type=\"checkbox\" checked.two-way=\"troop1.buff\" />\n          Air Vehicle?\n        </label>\n      </td>\n      <td>\n        <label>\n          Attack Helicopters\n          <input type=\"number\" value.two-way=\"troop2.qty\" />\n        </label>\n        <label>\n          <input type=\"checkbox\" checked.two-way=\"troop2.buff\" />\n          Air Vehicle?\n        </label>\n      </td>\n      <td>\n        <label>\n          Jet Fighters\n          <input type=\"number\" value.two-way=\"troop3.qty\" />\n        </label>\n        <label>\n          <input type=\"checkbox\" checked.two-way=\"troop3.buff\" />\n          Air Vehicle?\n        </label>\n      </td>\n      <td>\n        <label>\n          Advanced Interceptors\n          <input type=\"number\" value.two-way=\"troop4.qty\" />\n        </label>\n        <label>\n          <input type=\"checkbox\" checked.two-way=\"troop4.buff\" />\n          Air Vehicle?\n        </label>\n      </td>\n      <td>\n        <label>\n          Solarwind Fighters\n          <input type=\"number\" value.two-way=\"troop5.qty\" />\n        </label>\n        <label>\n          <input type=\"checkbox\" checked.two-way=\"troop5.buff\" />\n          Air Vehicle?\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <h3>Alien Activities / Hives / Dropships</h3>\n  <table>\n    <tr>\n      <td>\n        <label>\n          Greys\n          <input type=\"number\" value.two-way=\"aat1.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Bashers\n          <input type=\"number\" value.two-way=\"aat2.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          UFOs\n          <input type=\"number\" value.two-way=\"aat3.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Destroyers\n          <input type=\"number\" value.two-way=\"aat4.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Masterminds\n          <input type=\"number\" value.two-way=\"aat5.qty\" />\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <h3>Scavengers / Dark Activity</h3>\n  <table>\n    <tr>\n      <td>\n        <label>\n          Superior Scavengers\n          <input type=\"number\" value.two-way=\"sat2.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Veteran Scavengers\n          <input type=\"number\" value.two-way=\"sat3.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Elite Scavengers\n          <input type=\"number\" value.two-way=\"sat4.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Veteran Black Ops\n          <input type=\"number\" value.two-way=\"dat3.qty\" />\n        </label>\n      </td>\n      <td>\n        <label>\n          Elite Black Ops\n          <input type=\"number\" value.two-way=\"dat4.qty\" />\n        </label>\n      </td>\n    </tr>\n  </table>\n\n  <h2>Simulation</h2>\n\n  <button click.delegate=\"heroVsAa()\">Hero Only</button>\n  <button click.delegate=\"troopsVsAa()\">Troops Only</button>\n  <button click.delegate=\"allVsAa()\">Hero + Troops</button>\n\n  <aurelia-console if.bind=\"battleLogs.length\" logs.bind=\"battleLogs\"></aurelia-console>\n</template>\n","import { bindable } from 'aurelia-framework';\n\nexport class AureliaConsoleCustomElement {\n  @bindable\n  logs = [];\n}\n",".console-output {\n  background: var(--background);\n  color: var(--text-main);\n  font-family: Monaco, Consolas, 'Lucida Console', monospace;\n  padding: 1em;\n\n  p {\n    margin: 0;\n  }\n\n  p.left {\n    text-align: left;\n  }\n\n  p.right {\n    text-align: right;\n  }\n\n  p.center {\n    text-align: center;\n  }\n}\n",".console-output {\n  background: var(--background);\n  color: var(--text-main);\n  font-family: Monaco, Consolas, \"Lucida Console\", monospace;\n  padding: 1em;\n}\n.console-output p {\n  margin: 0;\n}\n.console-output p.left {\n  text-align: left;\n}\n.console-output p.right {\n  text-align: right;\n}\n.console-output p.center {\n  text-align: center;\n}","<template>\n  <require from=\"./aurelia-console.css\"></require>\n\n  <div class=\"console-output\">\n    <div>\n      <template repeat.for=\"log of logs\">\n        <p class=\"${log.left ? 'left' : ''} ${log.center ? 'center' : ''} ${log.right ? 'right' : ''}\">\n          <span if.bind=\"log.left || log.center\">&gt;</span>\n          ${log.message}\n          <span if.bind=\"log.right || log.center\">&lt;</span>\n        </p>\n      </template>\n    </div>\n  </div>\n</template>\n","export default {\n  debug: true,\n  testing: true\n};\n","// regenerator-runtime is to support async/await syntax in ESNext.\n// If you target latest browsers (have native support), or don't use async/await, you can remove regenerator-runtime.\nimport 'regenerator-runtime/runtime';\nimport environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  aurelia.use.developmentLogging(environment.debug ? 'debug' : 'warn');\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n"]}